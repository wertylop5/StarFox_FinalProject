https://os.mbed.com/users/eencae/code/Joystick/#649b59b2fb26
